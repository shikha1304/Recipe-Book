{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../api-service.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nfunction ShoppingListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 7)(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ShoppingListComponent_div_6_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onAdd(item_r1));\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\", 9);\n    i0.ɵɵtext(10, \"add\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ShoppingListComponent_div_6_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onRemove(item_r1));\n    });\n    i0.ɵɵelementStart(12, \"mat-icon\", 10);\n    i0.ɵɵtext(13, \"remove\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 7)(15, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ShoppingListComponent_div_6_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onDelete(item_r1.id));\n    });\n    i0.ɵɵelementStart(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"delete_outline\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.item);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.quantity);\n  }\n}\nexport class ShoppingListComponent {\n  constructor(http, api) {\n    this.http = http;\n    this.api = api;\n    this.list = [{\n      item: '',\n      quantity: 0,\n      id: 0,\n      userId: 0\n    }];\n    this.userId = Number(localStorage.getItem('userId'));\n  }\n  ngOnInit() {\n    this.http.get('http://localhost:3000/list').subscribe(res => {\n      this.list = res;\n    });\n  }\n  onAdd(item) {\n    item.quantity += 1;\n    this.http.put('http://localhost:3000/list/' + item.id, item).subscribe();\n    location.reload();\n  }\n  onRemove(item) {\n    item.quantity -= 1;\n    if (item.quantity === 0) {\n      this.onDelete(item.id);\n    } else {\n      this.api.updateItem(item);\n      location.reload();\n    }\n  }\n  onDelete(id) {\n    this.api.removeItem(id).subscribe(() => {\n      alert('Item Removed from Cart');\n      location.reload();\n    });\n  }\n  static #_ = this.ɵfac = function ShoppingListComponent_Factory(t) {\n    return new (t || ShoppingListComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ApiServiceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShoppingListComponent,\n    selectors: [[\"app-shopping-list\"]],\n    decls: 7,\n    vars: 1,\n    consts: [[\"id\", \"about\", 1, \"section\", \"about-section\", \"gray-bg\"], [1, \"container\"], [1, \"header\"], [1, \"content\", \"m-2\", \"p-5\"], [\"class\", \"row align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"align-items-center\"], [1, \"col-lg-4\"], [1, \"col-lg-2\"], [\"mat-button\", \"\", 3, \"click\"], [1, \"sign\", \"mr-2\"], [1, \"sign\", \"ml-2\"]],\n    template: function ShoppingListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n        i0.ɵɵtext(4, \"Shopping Cart\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵtemplate(6, ShoppingListComponent_div_6_Template, 18, 2, \"div\", 4);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.list);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.MatButton, i5.MatIcon],\n    styles: [\"body[_ngcontent-%COMP%]{\\n    color: #6F8BA4;\\n    margin-top:20px;\\n}\\n.section[_ngcontent-%COMP%] {\\n    padding: 100px 0;\\n    position: relative;\\n}\\n.gray-bg[_ngcontent-%COMP%] {\\n    background-color: #f5f5f5;\\n    border-radius: 10px;\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -40%);\\n    padding: 40px;\\n    width: 50%;\\n}\\n\\n.header[_ngcontent-%COMP%]{\\n    text-align: center;\\n}\\n\\nh1[_ngcontent-%COMP%]{\\n    font-weight: bolder;\\n}\\n\\n.sign[_ngcontent-%COMP%]{\\n    font-size: 18px\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hvcHBpbmctbGlzdC9zaG9wcGluZy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0kseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxnQ0FBZ0M7SUFDaEMsYUFBYTtJQUNiLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5e1xuICAgIGNvbG9yOiAjNkY4QkE0O1xuICAgIG1hcmdpbi10b3A6MjBweDtcbn1cbi5zZWN0aW9uIHtcbiAgICBwYWRkaW5nOiAxMDBweCAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5ncmF5LWJnIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNDAlKTtcbiAgICBwYWRkaW5nOiA0MHB4O1xuICAgIHdpZHRoOiA1MCU7XG59XG5cbi5oZWFkZXJ7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5oMXtcbiAgICBmb250LXdlaWdodDogYm9sZGVyO1xufVxuXG4uc2lnbntcbiAgICBmb250LXNpemU6IDE4cHhcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ShoppingListComponent_div_6_Template_button_click_8_listener","restoredCtx","ɵɵrestoreView","_r3","item_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","onAdd","ShoppingListComponent_div_6_Template_button_click_11_listener","ctx_r4","onRemove","ShoppingListComponent_div_6_Template_button_click_15_listener","ctx_r5","onDelete","id","ɵɵadvance","ɵɵtextInterpolate","item","quantity","ShoppingListComponent","constructor","http","api","list","userId","Number","localStorage","getItem","ngOnInit","get","subscribe","res","put","location","reload","updateItem","removeItem","alert","_","ɵɵdirectiveInject","i1","HttpClient","i2","ApiServiceService","_2","selectors","decls","vars","consts","template","ShoppingListComponent_Template","rf","ctx","ɵɵtemplate","ShoppingListComponent_div_6_Template","ɵɵproperty"],"sources":["/Users/shikha/Documents/Recipe-Book/Web/src/app/shopping-list/shopping-list.component.ts","/Users/shikha/Documents/Recipe-Book/Web/src/app/shopping-list/shopping-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { List } from '../model/list';\nimport { HttpClient } from '@angular/common/http';\nimport { MatButtonModule } from '@angular/material/button';\nimport { ApiServiceService } from '../api-service.service';\nimport { ListKeyManager } from '@angular/cdk/a11y';\n\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css']\n})\nexport class ShoppingListComponent implements OnInit {\n\n  constructor(private http: HttpClient, private api: ApiServiceService) { }\n\n  list: List[] = [{\n    item: '',\n    quantity: 0,\n    id: 0,\n    userId: 0\n  }]\n  \n  userId = Number(localStorage.getItem('userId'))\n  \n  ngOnInit() {\n    this.http.get<any>('http://localhost:3000/list').subscribe((res)=>{     \n      this.list = res \n    }) \n  }\n\n  onAdd(item: List){\n    item.quantity += 1 \n    this.http.put<List>('http://localhost:3000/list/' + item.id, item).subscribe()\n    location.reload();\n  }\n\n  onRemove(item: List){\n    item.quantity -= 1 \n    if(item.quantity === 0){\n      this.onDelete(item.id)\n    }else{\n      this.api.updateItem(item);\n      location.reload();\n    }\n  }\n\n  onDelete(id: number){\n    this.api.removeItem(id).subscribe(()=>{\n      alert('Item Removed from Cart')\n      location.reload();\n    });\n  }\n}\n","<section class=\"section about-section gray-bg\" id=\"about\">\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>Shopping Cart</h1>\n        </div>\n        <div class=\"content m-2 p-5\">\n            <div class=\"row align-items-center\" *ngFor=\"let item of list\" >\n                <div class=\"col-lg-4\" >\n                    <p>{{item.item}}</p>\n                </div>\n                <div class=\"col-lg-2\" >\n                    <p>{{item.quantity}}</p>\n                </div>\n                <div class=\"col-lg-4\" >\n                    <button mat-button (click)=\"onAdd(item)\"><mat-icon class=\"sign mr-2\">add</mat-icon></button>\n                    <button mat-button (click)=\"onRemove(item)\"><mat-icon class=\"sign ml-2\">remove</mat-icon></button>\n                </div>\n                <div class=\"col-lg-2\" >\n                    <button mat-button (click)=\"onDelete(item.id)\"><mat-icon>delete_outline</mat-icon></button>\n                </div>\n            </div>\n        </div>  \n    </div>\n</section>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}